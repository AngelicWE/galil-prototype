# GalilMotion HCD Configuration - HARDWARE MODE
# Based on SDD Section 4.4, Figure 4-3
#
# This configuration connects to the physical Galil controller
# at 192.168.86.41 with two rotating stepper motors on axes A and B.
#
# Usage:
#   Ensure controller is powered on and network-accessible
#   Copy this to GalilHcdConfig.conf or update main config
#   sbt "galil-hcd/run"

# CSW Component registration
prefix = "APS.ICS.HCD.GalilMotion.1"
componentType = hcd
behaviorFactoryClassName = "csw.proto.galil.hcd.GalilHcdBehaviorFactory"
locationServiceUsage = RegisterOnly

# Controller connection settings
controller {
  # IP address as integer array [a, b, c, d] for a.b.c.d
  # Physical controller IP: 192.168.86.41
  host = [192, 168, 86, 41]
  
  # TCP port for Galil controller
  # Standard Galil telnet port
  port = 23
  
  # Instance identifier for this Galil controller (1-4)
  id = 1
  
  # Embedded DMC program file (relative to programs.resources directory)
  # Contains #Init, #Setup{A-H} programs and #Version program
  # Version is parsed from DMC file itself
  # This file will be uploaded to the controller during initialization
  embeddedProgram = "protoHCD_lab.dmc"
}

# Software-only simulation mode
# false: Using real hardware - full validation required
simulate = false

# Active axes (8 boolean values for axes A through H)
# Physical controller has two rotating stepper motors on A and B
activeAxes = [true, true, false, false, false, false, false, false]

# Per-axis configuration
axes {
  # Axis A - Rotating Stepper Motor
  A {
    # Mechanism type: "linear" or "rotating"
    # This is a rotating mechanism
    mechanismType = "rotating"
    
    # Upper soft limit (degrees for rotating)
    # Full rotation: 0-360 degrees
    upperLimit = 360.0
    
    # Lower soft limit (degrees)
    lowerLimit = 0.0
    
    # Approach algorithm for positioning commands
    # "shortest": Take shortest path for rotating mechanisms
    algorithm = "shortest"
    
    # In-position threshold (degrees)
    # Adjust based on actual motor/encoder resolution
    inPositionThreshold = 1.0
    
    # Offset applied after homing (degrees)
    # Adjust based on actual home position
    indexOffset = 0.0
  }
  
  # Axis B - Rotating Stepper Motor
  B {
    mechanismType = "rotating"
    upperLimit = 360.0
    lowerLimit = 0.0
    algorithm = "shortest"
    inPositionThreshold = 1.0
    indexOffset = 0.0
  }
}